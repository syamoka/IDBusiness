<header>
  <div class="logo">
    <img src="/assets/svg/logo.svg" alt="" width="131" height="32" />
  </div>
  <app-search></app-search>
  @if(userData$ | async; as userData) {
  <div class="user-container">
    <div class="user-data">
      <div class="user-info">
        {{ userData.firstName }} {{ userData.lastName }}
      </div>
      <div class="user-info user-passport-number">
        <span>{{ userData.passportNumber }}</span>
        <img
          src="/assets/svg/keyboard-arrow-down-rounded.svg"
          width="16"
          height="16"
          alt=""
          class="dropdown-toggle-icon"
          [class.opened]="isDropDownOpen"
          (click)="toggleDropDown()"
        />
      </div>

      <div class="user-data-dropdown" [class.opened]="isDropDownOpen">
        <div class="close-icon">
          <img
            src="/assets/svg/close_button.svg"
            width="18"
            height="18"
            alt=""
            (click)="toggleDropDown()"
          />
        </div>
        @for(item of companies; track item.id) {
        <div class="item">
          <img
            src="assets/svg/ic_service_default.svg"
            width="22"
            height="22"
            alt=""
          />
          <div>{{ item.company_name }}</div>
          <div class="role">{{ item.role }}</div>
        </div>
        }
      </div>
    </div>
    <span class="first-last-name"
      >{{ userData.firstName[0] }}{{ userData.lastName[0] }}</span
    >
  </div>
  }
  <div class="actions">
    <div class="actions-item notifications">
      <div class="count">2</div>
      <svg
        width="18"
        height="18"
        viewBox="0 0 18 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M14.4465 13.7556C15.1766 13.7556 15.6363 13.3051 15.6363 12.6439C15.6363 11.8519 15.0008 11.1907 14.3856 10.5731C13.8947 10.0887 13.7851 9.04345 13.6775 8.01675L13.6758 8.00093C13.5474 5.41425 12.7902 3.55417 11.0732 2.8857C10.7757 1.92659 10.0186 1.2 9.01808 1.2C8.01758 1.2 7.26045 1.92659 6.963 2.8857C5.24592 3.55417 4.48879 5.41425 4.36034 8.00093L4.35869 8.01675C4.25107 9.04345 4.1415 10.0887 3.65053 10.5731C3.0286 11.1907 2.3999 11.8519 2.3999 12.6439C2.3999 13.3051 2.85959 13.7556 3.58969 13.7556H14.4465ZM11.2287 14.7873C11.2273 14.8034 11.2259 14.8195 11.2242 14.8356C11.1854 15.2102 11.0502 15.565 10.8383 15.8673C10.4495 16.4219 9.80251 16.8 9.01808 16.8C8.23366 16.8 7.58388 16.4219 7.19489 15.8673C6.98285 15.565 6.8483 15.2102 6.81168 14.8356C6.81011 14.8195 6.80872 14.8034 6.80752 14.7873H11.2287ZM4.41034 11.3406C4.88457 10.872 5.09007 10.2316 5.20346 9.72904C5.31886 9.21749 5.37852 8.64773 5.42969 8.15907C5.43129 8.14381 5.43288 8.12863 5.43446 8.11353L5.43755 8.08407L5.43902 8.05449C5.56324 5.55277 6.27601 4.3121 7.35481 3.89212L7.84023 3.70314L7.99453 3.20561C8.19292 2.56592 8.61636 2.28 9.01808 2.28C9.41981 2.28 9.84325 2.56592 10.0416 3.20561L10.1959 3.70314L10.6814 3.89212C11.7602 4.3121 12.4729 5.55277 12.5972 8.05449L12.5986 8.08407L12.6017 8.11353C12.6033 8.12864 12.6049 8.14383 12.6065 8.1591C12.6576 8.64775 12.7173 9.2175 12.8327 9.72904C12.9459 10.2307 13.1509 10.8696 13.6232 11.338C13.9373 11.6534 14.1809 11.9075 14.3529 12.1567C14.5197 12.3984 14.5563 12.548 14.5563 12.6439C14.5563 12.6517 14.556 12.6585 14.5556 12.6644C14.5341 12.6697 14.4987 12.6756 14.4465 12.6756H3.58969C3.5375 12.6756 3.50204 12.6697 3.48057 12.6644C3.48017 12.6585 3.4799 12.6517 3.4799 12.6439C3.4799 12.5452 3.51696 12.3948 3.68179 12.1552C3.85197 11.9078 4.09547 11.6533 4.41034 11.3406Z"
          fill="white"
        />
      </svg>
    </div>
    <div class="actions language-toggle-container">
      @for (lang of supportedLanguages; track lang.id; let last = $last) {
      <span (click)="setLanguage(lang)">{{ lang.value }}</span>
      @if (!last) {
      <span> | </span>
      } }
    </div>
    <div class="actions-item messages">
      <svg
        width="18"
        height="14"
        viewBox="0 0 18 14"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M3.1199 0.699997H14.8799C15.4687 0.699997 16.0333 0.933889 16.4497 1.35022C16.866 1.76655 17.0999 2.33122 17.0999 2.92V11.32C17.0999 11.9088 16.866 12.4734 16.4497 12.8898C16.0333 13.3061 15.4687 13.54 14.8799 13.54H3.1199C2.53112 13.54 1.96646 13.3061 1.55013 12.8898C1.13379 12.4734 0.899902 11.9088 0.899902 11.32V2.92C0.899902 2.33122 1.13379 1.76655 1.55013 1.35022C1.96646 0.933889 2.53112 0.699997 3.1199 0.699997ZM8.9999 7.37061L16.0199 3.08841V2.92C16.0199 2.61765 15.8998 2.32769 15.686 2.1139C15.4722 1.9001 15.1823 1.78 14.8799 1.78H3.1199C2.81756 1.78 2.52759 1.9001 2.3138 2.1139C2.10001 2.32769 1.9799 2.61765 1.9799 2.92V3.08841L8.9999 7.37061ZM8.71598 8.41584L1.9799 4.30035V11.32C1.9799 11.6223 2.10001 11.9123 2.3138 12.1261C2.52759 12.3399 2.81756 12.46 3.1199 12.46H14.8799C15.1823 12.46 15.4722 12.3399 15.686 12.1261C15.8998 11.9123 16.0199 11.6223 16.0199 11.32V4.30183L9.2505 8.41568C9.16905 8.46211 9.07689 8.48654 8.9831 8.48654C8.88942 8.48654 8.79737 8.46217 8.71598 8.41584Z"
          fill="white"
        />
      </svg>

      <div class="count">2</div>
    </div>
    <div class="actions-item settings">
      <div class="count">2</div>
      <svg
        width="18"
        height="18"
        viewBox="0 0 18 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M8.93987 5.45976C8.25162 5.45978 7.57882 5.66387 7.00655 6.04625C6.43427 6.42864 5.98823 6.97214 5.72484 7.60802C5.46144 8.24391 5.39253 8.94362 5.52681 9.61868C5.66108 10.2937 5.99252 10.9138 6.47921 11.4005C6.96589 11.8872 7.58597 12.2186 8.26102 12.3529C8.93608 12.4872 9.63579 12.4183 10.2717 12.1549C10.9076 11.8915 11.4511 11.4454 11.8335 10.8731C12.2158 10.3009 12.4199 9.62813 12.4199 8.9399C12.4189 8.01723 12.0519 7.13265 11.3995 6.48023C10.7471 5.82782 9.86252 5.46083 8.93987 5.45976ZM10.644 10.6438C10.192 11.0957 9.57923 11.35 8.94007 11.3507C8.46324 11.3507 7.99698 11.2093 7.60051 10.9444C7.20404 10.6794 6.89502 10.3029 6.71255 9.86238C6.53007 9.42184 6.48233 8.93709 6.57535 8.46942C6.66838 8.00175 6.898 7.57216 7.23517 7.23499C7.57234 6.89782 8.00192 6.6682 8.46959 6.57518C8.93726 6.48215 9.42202 6.5299 9.86255 6.71237C10.3031 6.89485 10.6796 7.20386 10.9445 7.60033C11.2094 7.9968 11.3508 8.46306 11.3508 8.9399C11.3501 9.57905 11.0959 10.1918 10.644 10.6438Z"
          fill="white"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M16.5702 11.2198L15.4391 10.3397L15.4475 10.3022C15.6407 9.44366 15.6407 8.55633 15.4475 7.69776L15.4391 7.66032L16.5702 6.7802C16.686 6.69056 16.7636 6.5654 16.79 6.42772C16.8163 6.29009 16.7901 6.14789 16.7154 6.0264L15.5853 4.17634C15.5113 4.05437 15.3932 3.96039 15.2516 3.91238C15.1099 3.86436 14.9547 3.86559 14.814 3.91584L13.4448 4.40071L13.4182 4.37804C12.7286 3.78911 11.9148 3.34448 11.0302 3.07351L10.9948 3.06266L10.7539 1.69742C10.73 1.55933 10.6546 1.43289 10.5405 1.34148C10.4262 1.25 10.2807 1.19961 10.13 1.2L7.86988 1.2C7.71916 1.19962 7.57352 1.25001 7.45929 1.34147C7.34513 1.43288 7.26982 1.55913 7.24587 1.69722L7.0051 3.06266L6.9697 3.07351C6.08507 3.34447 5.27128 3.7891 4.58166 4.37804L4.55511 4.40071L3.18591 3.91583C3.04517 3.86561 2.88984 3.86435 2.74823 3.91238C2.60666 3.96039 2.48862 4.05421 2.41459 4.17616L1.28452 6.02636C1.20989 6.14786 1.18358 6.29019 1.20997 6.42781C1.23637 6.5655 1.3139 6.69056 1.42967 6.78017L2.56081 7.66032L2.55239 7.69776C2.3592 8.55633 2.3592 9.44366 2.55239 10.3022L2.56081 10.3397L1.42968 11.2198C1.31393 11.3094 1.23631 11.4346 1.20993 11.5723C1.18356 11.7099 1.2098 11.8521 1.28444 11.9736L2.41454 13.8237C2.48857 13.9456 2.60672 14.0396 2.74832 14.0876C2.88995 14.1356 3.04516 14.1344 3.1859 14.0842L4.55515 13.5993L4.58169 13.622C5.27131 14.2109 6.0851 14.6555 6.96973 14.9265L7.00514 14.9373L7.24588 16.3026C7.26981 16.4407 7.34515 16.5671 7.4593 16.6585C7.57352 16.75 7.71901 16.8004 7.86973 16.8L10.1299 16.8C10.2806 16.8004 10.4262 16.75 10.5405 16.6585C10.6546 16.5671 10.7299 16.4409 10.7539 16.3028L10.9947 14.9373L11.0301 14.9265C11.9147 14.6555 12.7285 14.2109 13.4181 13.622L13.4447 13.5993L14.8138 14.0842C14.9546 14.1344 15.1099 14.1356 15.2515 14.0876C15.3931 14.0396 15.5111 13.9458 15.5851 13.8238L16.7152 11.9736C16.7898 11.8522 16.8162 11.7099 16.7898 11.5723C16.7635 11.4346 16.6859 11.3094 16.5702 11.2198ZM14.8788 13.1162L13.2006 12.5219L12.9751 12.7365C12.2728 13.4056 11.3947 13.8851 10.4315 14.1261L10.1231 14.203L9.82847 15.8729H8.17154L7.87703 14.203L7.56863 14.1261C6.60548 13.8852 5.72735 13.4056 5.02507 12.7365L4.79953 12.5219L3.121 13.1162L2.28971 11.755L3.67324 10.6784L3.59093 10.3911C3.33054 9.48007 3.33053 8.51996 3.59093 7.60894L3.67324 7.32159L2.28971 6.24502L3.12118 4.88377L4.79942 5.47807L5.02494 5.26347C5.72722 4.59441 6.60531 4.11485 7.56847 3.8739L7.87693 3.79704L8.1714 2.12713H9.82847L10.123 3.79704L10.4314 3.87388C11.3945 4.11483 12.2727 4.5944 12.9749 5.26345L13.2005 5.47807L14.8787 4.88377L15.7102 6.24499L14.3267 7.32159L14.409 7.60891C14.6694 8.51993 14.6694 9.48003 14.409 10.391L14.3267 10.6784L15.7102 11.755L14.8788 13.1162Z"
          fill="white"
        />
      </svg>
    </div>
    <div class="actions-item logout" (click)="logout()">
      <svg
        width="18"
        height="18"
        viewBox="0 0 18 18"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M5.21497 8.65397L15.1291 8.65397L13.6707 7.16689C13.5651 7.05817 13.5046 6.9094 13.5046 6.75292C13.5046 6.59629 13.5652 6.4474 13.671 6.33864C13.7766 6.23012 13.9184 6.17044 14.0648 6.17044C14.2111 6.17044 14.3529 6.23012 14.4585 6.33864L16.8721 8.8188L16.8728 8.81952C16.9254 8.87306 16.9674 8.93711 16.9962 9.00817C17.025 9.07924 17.0399 9.15569 17.0399 9.23307C17.0399 9.31044 17.025 9.3869 16.9962 9.45797C16.9674 9.52903 16.9254 9.59308 16.8728 9.64662L14.4585 12.1275L14.4578 12.1282C14.4057 12.1822 14.3441 12.2247 14.2767 12.2535C14.2094 12.2824 14.1373 12.2971 14.0648 12.2971C13.9922 12.2971 13.9202 12.2824 13.8528 12.2535C13.7854 12.2247 13.7238 12.1822 13.6717 12.1282L13.6703 12.1268C13.6178 12.0732 13.5757 12.0092 13.5469 11.9381C13.5181 11.867 13.5032 11.7906 13.5032 11.7132C13.5032 11.6358 13.5181 11.5594 13.5469 11.4883C13.5757 11.4173 13.6178 11.3532 13.6704 11.2996L15.1291 9.81217L5.21497 9.81217C5.06947 9.81217 4.92853 9.75284 4.82354 9.64495C4.71832 9.53683 4.65806 9.3888 4.65806 9.23307C4.65806 9.07734 4.71832 8.9293 4.82354 8.82119C4.92853 8.7133 5.06947 8.65397 5.21497 8.65397Z"
          fill="white"
        />
        <path
          d="M11.4036 12.5399V14.1934C11.4036 14.7876 11.1738 15.3562 10.7668 15.7744C10.3601 16.1924 9.80985 16.4259 9.23761 16.4259H3.60591C3.03367 16.4259 2.48345 16.1924 2.0767 15.7744C1.66973 15.3562 1.43994 14.7876 1.43994 14.1934V4.27277C1.43994 3.67852 1.66973 3.10993 2.0767 2.69173C2.48345 2.27377 3.03367 2.04024 3.60591 2.04024H9.23761C9.80985 2.04024 10.3601 2.27377 10.7668 2.69173C11.1738 3.10993 11.4036 3.67852 11.4036 4.27277V5.9262C11.4036 6.08193 11.3433 6.22997 11.2381 6.33808C11.1331 6.44597 10.9922 6.5053 10.8467 6.5053C10.7012 6.5053 10.5602 6.44597 10.4552 6.33808C10.35 6.22997 10.2898 6.08193 10.2898 5.9262V4.27277C10.2898 3.98998 10.1805 3.71746 9.98395 3.5155C9.78719 3.3133 9.51886 3.19843 9.23761 3.19843H3.60591C3.32465 3.19843 3.05633 3.3133 2.85956 3.5155C2.66302 3.71746 2.55376 3.98998 2.55376 4.27277V14.1934C2.55376 14.4762 2.66302 14.7487 2.85956 14.9506C3.05633 15.1528 3.32466 15.2677 3.60591 15.2677H9.23761C9.51886 15.2677 9.78719 15.1528 9.98395 14.9506C10.1805 14.7487 10.2898 14.4762 10.2898 14.1934V12.5399C10.2898 12.3842 10.35 12.2362 10.4552 12.1281C10.5602 12.0202 10.7012 11.9608 10.8467 11.9608C10.9922 11.9608 11.1331 12.0202 11.2381 12.1281C11.3433 12.2362 11.4036 12.3842 11.4036 12.5399Z"
          fill="white"
        />
      </svg>
    </div>
  </div>
</header>
